(function(){function l(f,g){function h(){return(b=f.charAt(++e))||""}function m(b){var a="",c=e;b&&p();a=f.charAt(e+1)||"";e=c-1;h();return a}function s(a){for(var c=e;h();)if("\\"===b)h();else if(-1!==a.indexOf(b))break;else if("\n"===b)break;return f.substring(c,e+1)}function F(b){var a=e;b=s(b);e=a-1;h();return b}function p(){for(var a="";u.test(m());)h(),a+=b;return a}function G(){var a="";for(b&&u.test(b)&&(a=b);u.test(h());)a+=b;return a}function B(a){var c=e;a="/"===m();for(h();h();)if(!a&&
"*"===b&&"/"===m()){h();break}else if(a&&"\n"===b)return f.substring(c,e);return f.substring(c,e)+b}function C(a){return f.substring(e-a.length,e).toLowerCase()===a}function H(){for(var a=0,b=e+1;b<f.length;b++){var c=f.charAt(b);if("{"===c)return!0;if("("===c)a+=1;else if(")"===c){if(0==a)break;a-=1}else if(";"===c||"}"===c)break}return!1}g=g||{};f=f||"";f=f.replace(/\r\n|[\r\u2028\u2029]/g,"\n");var d=g.indent_size||4,v=g.indent_char||" ",I=void 0===g.selector_separator_newline?!0:g.selector_separator_newline,
J=void 0===g.end_with_newline?!1:g.end_with_newline,D=void 0===g.newline_between_rules?!0:g.newline_between_rules,w=g.eol?g.eol:"\n";"string"===typeof d&&(d=parseInt(d,10));g.indent_with_tabs&&(v="\t",d=1);for(var w=w.replace(/\\r/,"\r").replace(/\\n/,"\n"),u=/^\s+$/,e=-1,b,A=0,n=f.match(/^[\t ]*/)[0],v=Array(d+1).join(v),q=0,r=0,a={"{":function(b){a.singleSpace();c.push(b);a.newLine()},"}":function(b){a.newLine();c.push(b);a.newLine()},_lastCharWhitespace:function(){return u.test(c[c.length-1])},
newLine:function(b){c.length&&(b||"\n"===c[c.length-1]||a.trim(),c.push("\n"),n&&c.push(n))},singleSpace:function(){c.length&&!a._lastCharWhitespace()&&c.push(" ")},preserveSingleSpace:function(){K&&a.singleSpace()},trim:function(){for(;a._lastCharWhitespace();)c.pop()}},c=[],x=!1,y=!1,z=!1,E="",t="";;){var k=G(),K=""!==k,k=-1!==k.indexOf("\n"),t=E;if(E=b)"/"===b&&"*"===m()?(t=0===q,(k||t)&&a.newLine(),c.push(B()),a.newLine(),t&&a.newLine(!0)):"/"===b&&"/"===m()?(k||"{"===t||a.trim(),a.singleSpace(),
c.push(B()),a.newLine()):"@"===b?(a.preserveSingleSpace(),c.push(b),k=F(": ,;{}()[]/='\""),k.match(/[ :]$/)&&(h(),k=s(": ").replace(/\s$/,""),c.push(k),a.singleSpace()),k=k.replace(/\s$/,""),k in l.NESTED_AT_RULE&&(r+=1,k in l.CONDITIONAL_GROUP_RULE&&(z=!0))):"#"===b&&"{"===m()?(a.preserveSingleSpace(),c.push(s("}"))):"{"===b?"}"===m(!0)?(p(),h(),a.singleSpace(),c.push("{}"),a.newLine(),D&&0===q&&a.newLine(!0)):(q++,n+=v,a["{"](b),z?(z=!1,x=q>r):x=q>=r):"}"===b?(q--,n=n.slice(0,-d),a["}"](b),y=x=
!1,r&&r--,D&&0===q&&a.newLine(!0)):":"===b?(p(),!x&&!z||C("&")||H()?":"===m()?(h(),c.push("::")):c.push(":"):(y=!0,c.push(":"),a.singleSpace())):'"'===b||"'"===b?(a.preserveSingleSpace(),c.push(s(b))):";"===b?(y=!1,c.push(b),a.newLine()):"("===b?C("url")?(c.push(b),p(),h()&&(")"!==b&&'"'!==b&&"'"!==b?c.push(s(")")):e--)):(A++,a.preserveSingleSpace(),c.push(b),p()):")"===b?(c.push(b),A--):","===b?(c.push(b),p(),I&&!y&&1>A?a.newLine():a.singleSpace()):("]"!==b&&("["===b?a.preserveSingleSpace():"="===
b?(p(),b="="):a.preserveSingleSpace()),c.push(b));else break}d="";n&&(d+=n);d+=c.join("").replace(/[\r\n\t ]+$/,"");J&&(d+="\n");"\n"!=w&&(d=d.replace(/[\n]/g,w));return d}l.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0};l.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0};"function"===typeof define&&define.amd?define([],function(){return{css_beautify:l}}):"undefined"!==typeof exports?exports.css_beautify=l:"undefined"!==typeof window?
window.css_beautify=l:"undefined"!==typeof global&&(global.css_beautify=l)})();
