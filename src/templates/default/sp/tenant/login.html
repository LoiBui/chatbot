<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
{% include "./include/headparts.html" %}
{% include "./include/headparts2.html" %}
<script type="text/javascript" src="{{vscripturl}}jquery.js"></script>
<script type="text/javascript" src="{{vscripturl}}lang/{{language}}.js?{{version}}" ></script>
<script type="text/javascript" src="{{vscripturl}}common.js?{{version}}" ></script>
<STYLE type="text/css">
<!--
#dcard_matrix {
	padding:2px;
	background-color:gray;
	width:160px;
	-webkit-border-radius: 10px;
	-moz-border-radius: 10px;
	border-radius: 10px;
	border-collapse: separate;
	border-spacing:2px;
}
#dcard_matrix table {
	text-align:center;
	background-color:white;
	width:160px;
	color:gray;
	font-size:12px;
	font-weight:bold;
	-webkit-border-radius: 10px;
	-moz-border-radius: 10px;
	border-radius: 10px;
}

#righttopbar {
position: absolute; right: 0px; top: 0px;
font-family: 'メイリオ', Meiryo, 'ヒラギノ角ゴ Pro W3', 'Hiragino Kaku Gothic Pro', 'ＭＳ Ｐゴシック', Verdana, Geneva, sans-serif;
font-size: 12px;
}

#righttopbar #languageselectbox
{
height: 28px;
margin: 0 6px;
padding: 0 0px;
vertical-align: middle;
min-width:50px;
max-width:95px;
}

#righttopbar .title {
color:#fff;
display: inline-block;
margin-right: 0px;
}
#righttopbar .languageboxarea {
display: inline-block;
}

input[type="text"], input[type="password"] {
    width: calc(100% - 2rem);
	width: -webkit-fill-available;
    border-radius: 13px;
    height: 24px;
    border: 1px solid #ccc;
    padding: .375rem .75rem;
}
.Logo{
	background-color: #09bd4f;

	background-color: #2196f3;
    box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2), 0px 0px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12);
}
body{
	background-color: none;
	background-image: none;
}

.style2 {
    color: #000;
    font-size: 12px;
    font-weight: bold;
	text-align: left;
    margin: 10px 0;
}
.style1 {
    color: #000;
    font-size: 14px;
    text-align: left;
}
tr, td {
    display: block;
    width: 100%;
}
button.btn.btn-login {
    color: #fff;
    background-color: #09bd4f;
    width: 100%;
	border-radius: 13px;
	letter-spacing: 0.02857em;
    text-transform: uppercase;
    background-color: #2196f3;
}
button.btn {
    display: inline-block;
    font-weight: 400;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    border: 1px solid transparent;
    padding: .375rem .75rem;
    font-size: 1rem;
    line-height: 1.5;
    border-radius: .25rem;
    transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}
a {
    color: #007bff;
    text-decoration: none;
    background-color: transparent;
    -webkit-text-decoration-skip: objects;
}

#righttopbar #languageselectbox {
    height: 28px;
    margin: 0;
    padding: 0 0px;
    vertical-align: middle;
    min-width: 50px;
    max-width: 95px;
    border-radius: 6px;
}

#righttopbar .languageboxarea {
    display: flex;
    padding: 10px;
    margin: 0 auto;
    min-height: 44px;
    align-items: center;
    border-radius: 3px;
}
.LoginBoxTable {
    margin: 10px auto;
    width: 95%;
    height: 356px;
}
table {
    width: 100%;
}
.text_validate {
    color: #FF0000;
    font-size: 10px;
    font-weight: bold;
    text-align: center;
    padding: 5px 0;
    display: block;
    text-align: left;
}

.style3 {
    color: #000;
    font-size: 12px;
    text-align: right;
}

input:focus {
outline: none;
}

.btn.btn-default{
background-color: #2196f3;
width: calc(100% - 2rem);
width: -webkit-fill-available;
}

//-->
</style>
<script type="text/javascript" >

function setFocusAndValue()
{
	// フォーカスを初期セットする対応
	var login_id = document.getElementById("loginID");
{% if not dept.login_autocomplete_type or dept.login_autocomplete_type=='' %}
	if(typeof(login_id) != 'undefined' && login_id != null){
		login_id.value = '{{voinfo.vo.login_id|escapejs}}';
		if(login_id.value == '\t'){
			login_id.value = '';
		}
	}
{% endif %}
	var login_password = document.getElementById("login_password");
{% if not ucfp.data.is_disp_matrixauth and (not dept.login_autocomplete_type or dept.login_autocomplete_type!='BOTH'): %}
	if(typeof(login_password) != 'undefined' && login_password != null){
		login_password.value = '{{voinfo.vo.login_password|escapejs}}';
		if(login_password.value == '\t'){
			login_password.value = '';
		}
	}
{% endif %}
	var two_factor_auth_code = document.getElementById("two_factor_auth_code");
	if(typeof(two_factor_auth_code) != 'undefined' && two_factor_auth_code != null){
		two_factor_auth_code.value = '{{voinfo.vo.two_factor_auth_code|escapejs}}';
		if(two_factor_auth_code.value == '\t'){
			two_factor_auth_code.value = '';
		}
	}
	if(typeof(login_id) != 'undefined' && login_id.value == ''){
		login_id.focus();
	}else if(typeof(login_password) != 'undefined' && login_password.value == ''){
		login_password.focus();
	}else if(typeof(login_id) != 'undefined'){
		//login_id.focus();
		login_password.focus();
	}
};

$(document).ready(function(){	
{% if ucfp.data.is_disp_language_combobox: %}
	createLanguageSelectBox('languageselectbox', jQuery.parseJSON('{{language_list|escapejs}}'), '{{language|escape}}', true, {% if request_method == 'POST':%}true{% else: %}false{% endif %}, function(){
		$('#post_form').find('input[name=st]').val('');
		$('#post_form').submit();
	});
{% endif %}

	// 即時セットするとautocomplete回避のタブセットも効かないので少し遅延処理
  setTimeout(function () {
		setFocusAndValue();
  }, 50);

});


//-->
</script>
<title>{{lang.VMSG_SITE_TITLE_LOGIN}} - {% if sp_code == 'worksmobile': %}{{lang.HTML_TITLE_WORKSMOBILE}}{%else:%}{{lang.HTML_TITLE}}{%endif%}</title>
</head>
<body>
{% include "./include/header.html" %}
<!-- LoginBox//start -->
<div class="LoginBox">
<table border="0" cellpadding="0" cellspacing="0" class="LoginBoxTable" >
<tr>
<td width="320" height="356">
<div class="area01">
<form id="post_form" name="login" action="{{vurl}}login" method="post">
<input type="hidden" name="st" value="v">
<input type="hidden" name="RURL" value="{{voinfo.vo.RURL}}">
<input type="hidden" name="{{config.REQUESTKEY_TEMP_LOGIN_CHECK_ACTION_KEY}}" value="{{ucfp.voinfo.vo.tc}}">
<input type="hidden" name="{{config.REQUESTKEY_MATRIXAUTH_RANDOMKEY|safe}}" value="{{ucfp.data.current_matrixauth_key}}">
<input type="hidden" name="rurl_key" value="{{ucfp.data.rurl_key}}">
<table border="0" cellpadding="0" cellspacing="0" width="310">
<tr>
<td colspan="2" class="style1" height="20">
{% if not ucfp.voinfo.vo.tc or ucfp.voinfo.vo.tc == '':%}
{% if not profile_vo or dept.is_fix_word_login_id == 'ACTIVE': -%}
{{lang.VMSG_LOGIN_INFO_INPUT_LOGINBOX|safe}}
{%- elif profile_vo.login_type == 'OPE1': -%}
{{lang.VMSG_LOGIN_INFO_INPUT_LOGINBOX_FOR_EMPLOYEE_ID|safe}}
{%- else: -%}
{{lang.VMSG_LOGIN_INFO_INPUT_LOGINBOX|safe}}
{%- endif -%}
{% elif ucfp.voinfo.vo.tc == config.TEMPLOGIN_ACTIONKEY_ACS_APPLY :%}
{{lang.VMSG_LOGIN_INFO_INPUT_LOGINBOX_FOR_ACS_REQUEST|safe}}
{% endif%}
</td>
</tr>
<tr>
<td colspan="2"><img src="/images/sp/space.gif" width="310" height="5" border="0" alt="">
{% for v in header_msg %}
<span class="text_validate"><br/><font color="red">{{v|safe}}</font></span>
{% endfor %}
</td>
</tr>
<tr>
<td width="85" class="style2" nowrap="nowrap">
{% if not profile_vo or dept.is_fix_word_login_id == 'ACTIVE': -%}
{{lang.VMSG_LOGIN_USERID}}
{%- elif profile_vo.login_type == 'OPE' or profile_vo.login_type == 'DCARD' or profile_vo.login_type == 'CERT' or profile_vo.login_type == '': -%}
{{lang.VMSG_LOGIN_USERID}}
{%- elif profile_vo.login_type == 'OPE1': -%}
{{lang.VMSG_LOGIN_EMPLOYEEID}}
{%- endif -%}
</td>
<td>
{% if ucfp.data.single_federated_domain != '': %}
{# // id=loginID は変更不可（SSOアプリで使うため）#}
{% if not dept.login_autocomplete_type or dept.login_autocomplete_type=='' %}
<input id="loginID" name="login_id" type="text" value="&#009;" size="20" autocomplete="off">
{% else: %}
<input id="loginID" name="login_id" type="text" value="{{voinfo.vo.login_id}}" size="20" >
{% endif %}
{% if not profile_vo: -%}
<br/>@{{ucfp.data.single_federated_domain}}
{%- elif profile_vo.login_type == 'OPE' or profile_vo.login_type == 'DCARD' or profile_vo.login_type == 'CERT' or profile_vo.login_type == '': -%}
<br/>@{{ucfp.data.single_federated_domain}}
{%- elif profile_vo.login_type == 'OPE1': -%}
{%- endif -%}

{% else:%}
{# // id=loginID は変更不可（SSOアプリで使うため）#}
{% if not dept.login_autocomplete_type or dept.login_autocomplete_type=='' %}
<input id="loginID" name="login_id" type="text" value="&#009;" size="20" {% if not dept.login_autocomplete_type or dept.login_autocomplete_type=='' %}autocomplete="off"{% endif %}>
{% else: %}
<input id="loginID" name="login_id" type="text" value="{{voinfo.vo.login_id}}" size="20" >
{% endif %}
{%- if ucfp.data.is_disp_domain_combobox:%}
<br/>@
<select name="login_domain" >
{% for one_domain in domaincombobox_list:%}
<option value="{{one_domain}}" {% if voinfo.vo.login_domain ==  one_domain:%}selected{%endif%}>{{one_domain}}</option>
{% endfor %}
</select>
{% endif %}

{% endif %}
{% if vcmsg.login_id %}
<br>
{% for v in vcmsg.login_id %}
<span class="text_validate"><font color="red">{{v}}</font></span>
{% endfor %}
{% endif %}
</td>
</tr>
<tr>
<td colspan="2"><img src="/images/sp/space.gif" width="310" height="5" border="0" alt=""></td>
</tr>

<tr>
<td class="style2" nowrap="nowrap">{{lang.VMSG_LOGIN_PASSWORD}}</td>
<td nowrap>
{# // セキュリティブラウザからのトークン渡しで100桁超えるのでmaxlength変更（未指定→500） 2015.09.30 #}
{# // id=login_password は変更不可（SSOアプリで使うため）#}
{% if not ucfp.data.is_disp_matrixauth and (not dept.login_autocomplete_type or dept.login_autocomplete_type!='BOTH'): %}
<input id="login_password" name="login_password" type="password" value="&#009;" size="20" maxlength="500" autocomplete="off" >
{% else: %}
<input id="login_password" name="login_password" type="password" value="{{voinfo.vo.login_password}}" size="20" maxlength="500" >
{% endif %}
{% if ucfp.data.is_disp_matrixauth: -%}
<br/>
<span class="style1">{{lang.VMSG_LOGIN_PASSWORD_MATRIXAUTH|safe}}</span>
{% endif %}
{% if vcmsg.login_password %}
<br>
{% for v in vcmsg.login_password %}
<span class="text_validate"><font color="red">{{v}}</font></span>
{% endfor %}
{% endif %}
</td>
</tr>
{% if login_result.error_code == 'CAPTCHA_REQUIRED' %}
<tr>
<td colspan="2"><img src="/images/sp/space.gif" width="320" height="5" border="0" alt=""></td>
</tr>
<tr>
<td class="style2" nowrap>{{lang.VMSG_LOGIN_CAPTCHA_REQUIRED}}</td>
<td nowrap>
<table border="0" >
<tr>
<td>
<img src="{{login_result.captcha_url}}" border="0" />
</td>
</tr>
<tr>
<td>
<input name="captcha" type="text" value="" size="20" maxlength="50" >
</td>
</tr>
<tr>
<td>
{% if vcmsg.captcha %}
<br>
{% for v in vcmsg.captcha %}
<span class="text_validate"><font color="red">{{v}}</font></span><br>
{% endfor %}
{% endif %}
<span class="text_validate"><font color="red">{{lang.VMSG_LOGIN_INFO_CAPTCHA_REQUIRED}}</font></span>
</td>
</tr>
</table>
{% if login_result.captcha_token %}
<input type="hidden" name="captcha_token" value="{{login_result.captcha_token}}" />
{% endif %}
</td>
</tr>
{% endif %}

{% if ucfp.data.is_disp_two_factor_auth_code: %}
<tr>
<td colspan="2"><img src="/images/sp/space.gif" width="310" height="5" border="0" alt=""></td>
</tr>
<tr>
<td class="style2" nowrap>{{lang.VMSG_LOGIN_TWO_FACTOR_AUTH_REQUIRED}}</td>
<td nowrap>
<input id="two_factor_auth_code" name="two_factor_auth_code" type="password" value="&#009;" size="10" maxlength="10" class="textBox" autocomplete="off" >
{% if vcmsg.login_access_code %}
<br>
{% for v in vcmsg.two_factor_auth_code %}
<span class="text_validate"><font color="red">{{v}}</font></span><br>
{% endfor %}
{% endif %}
</td>
</tr>
{% endif %}

{% if ucfp.data.is_disp_matrixauth: -%}
<tr>
<td colspan="2"><img src="/images/sp/space.gif" width="310" height="5" border="0" alt=""></td>
</tr>
<tr>
<td class="style2" wrap></td>
<td>
<div id="dcard_matrix" >
{# // ワンタイム・ランダムパスワード認証マトリックス表示 #}
<table>
{% for one_row in ucfp.data.current_matrixauth_matrix: -%}
<tr>
{% for one_item in one_row: -%}
<td>{{one_item}}</td>
{%- endfor %}
</tr>
{%- endfor %}
</table>
</div>
</td>
</tr>

{% endif %}

{% if ucfp.data.is_available_auto_login: -%}
<tr>
<td colspan="2"><img src="/images/sp/space.gif" width="310" height="5" border="0" alt=""></td>
</tr>
<tr>
{#<td width="80" class="style2" nowrap>&nbsp;</td>#}
<td width="230" colspan="2">
<input type="checkbox" name="auto_login_flag" value="on" {% if voinfo.vo.auto_login_flag == 'on' %}checked{% endif %} /><span class="style2" >{{lang.VMSG_LOGIN_AUTOLOGIN_ON}}</span>
{% if vcmsg.auto_login_flag %}
<br>
{% for v in vcmsg.auto_login_flag %}
<span class="text_validate"><font color="red">{{v}}</font></span><br>
{% endfor %}
{% endif %}
</td>
</tr>
{% endif %}
<tr>
<td colspan="2"><img src="/images/sp/space.gif" width="310" height="10" border="0" alt=""></td>
</tr>

<tr>
<td colspan="2" align="center">
{#	<input type="image" src="/images/sp/bt_login.png" width="104" height="41" border="0" alt="Login" />#}
	<button class="btn btn-login" alt="Login" >Login</button>
</td>
</tr>
</table>
</form>
<div></div>
{% if ucfp.data.is_disp_password_reminder: -%}
<p class="style2" ><a href="{{vurl}}reminder/" >{{lang.VMSG_LOGIN_LINK_REMINDER}}</a></p>
{%- endif %}
{% if ucfp.data.is_available_access_apply and dept.hide_access_apply_link_flag != 'HIDDEN': -%}
<p class="style2" ><a href="{{vurl}}acs/apply?rurl_key={{ucfp.data.rurl_key}}" >{{lang.VMSG_LOGIN_LINK_ACS_CTRL_REQUEST}}</a></p>
{%- endif %}
{#
<p class="mini_pr" >
{{mini_pr|safe}}
{% if show_upgrade_link: %}
<br/>
<a href="http://goo.gl/A2fmz" target="_blank" style="color:red;text-decoration:none;font-weight:bold;font-size:12px;margin:2px;">{{lang.MSG_UPGRADE}}</a>
{% endif %}
</p>
#}
</div>
</td>
</tr>
</table>
</div>
<!-- LoginBox//end -->

{% if ucfp.data.is_disp_language_combobox: %}
{% include "./include/righttopbar.html" %}
{% endif %}

{% include "./include/footer.html" %}
</body>
</html>
